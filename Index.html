<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="DATOS/css/style.css" />
  <link rel="icon" href="DATOS/img/flowers.png" type="image/png" />
  <title>Hola, monita — Flores</title>
</head>
<body>
  <!-- Canvas para pétalos y brillos (detrás del contenido) -->
  <canvas id="romantic-canvas" aria-hidden="true"></canvas>

  <main class="page" aria-labelledby="greeting-title">
    <header class="card" role="banner">

      <figure class="logo" aria-hidden="true">
        <img src="DATOS/img/flowers.png" alt="Logo floral" width="72" height="72" loading="lazy" />
      </figure>

      <h1 id="greeting-title" class="greetings" aria-label="Hola monita">
        <span>H</span><span>o</span><span>l</span><span>a</span>
        <span class="space"> </span>
        <span class="small">m</span><span>o</span><span>n</span><span>i</span><span>t</span><span>a</span>
      </h1>

      <p class="description">Esto es para ti <span class="heart" aria-hidden="true">♥</span></p>

      <div class="actions">
        <a class="btn" href="DATOS/FLORES.html" aria-label="Ver las flores">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false" style="transform:translateY(-1px)">
            <defs>
              <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                <stop offset="0" stop-color="#ffd3a6"/>
                <stop offset="1" stop-color="#ff8fb1"/>
              </linearGradient>
            </defs>
            <path fill="url(#g)" d="M12 2l3 6 6 .5-4.5 4 1 6L12 16l-5.5 3.5 1-6L3 8.5 9 8z"/>
          </svg>
          Ver flores
        </a>
      </div>

      <!-- nota eliminada según solicitud -->
    </header>
  </main>

  <!-- Script: animación suave de pétalos + brillos -->
  <script>
    // Respetar prefer-reduced-motion
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReducedMotion) {
      (function () {
        const canvas = document.getElementById('romantic-canvas');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        let W = 0, H = 0;
        const dpr = Math.max(1, window.devicePixelRatio || 1);

        const petals = [];
        const sparkles = [];
        const PETAL_COUNT = 28;
        const SPARKLE_COUNT = 12;

        function resize() {
          W = canvas.width = Math.floor(window.innerWidth * dpr);
          H = canvas.height = Math.floor(window.innerHeight * dpr);
          canvas.style.width = window.innerWidth + 'px';
          canvas.style.height = window.innerHeight + 'px';
          ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
        }
        window.addEventListener('resize', resize);
        resize();

        function rand(min, max) { return Math.random() * (max - min) + min; }
        function randInt(min, max) { return Math.floor(rand(min, max + 1)); }

        // Petal
        function Petal(x, y, size, color, sway) {
          this.x = x; this.y = y;
          this.size = size;
          this.color = color;
          this.vy = rand(0.15, 0.6);
          this.vx = rand(-0.3, 0.3);
          this.angle = rand(0, Math.PI * 2);
          this.spin = rand(-0.03, 0.03);
          this.sway = sway;
          this.life = randInt(9000, 22000);
          this.birth = performance.now();
        }
        Petal.prototype.update = function (dt) {
          this.angle += this.spin * dt * 0.06;
          this.x += this.vx * dt * 0.08 + Math.sin((performance.now() + this.sway) * 0.0006) * 0.24;
          this.y += this.vy * dt * 0.08;
          if (this.y > window.innerHeight + 30) {
            this.y = -rand(20, 60);
            this.x = rand(0, window.innerWidth);
          }
        };
        Petal.prototype.draw = function (ctx) {
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.rotate(this.angle);
          const g = ctx.createLinearGradient(-this.size, -this.size, this.size, this.size);
          g.addColorStop(0, this.color.start);
          g.addColorStop(1, this.color.end);
          ctx.fillStyle = g;
          ctx.beginPath();
          ctx.ellipse(0, 0, this.size, this.size * 0.6, Math.PI / 6, 0, Math.PI * 2);
          ctx.fill();
          ctx.restore();
        };

        // Sparkle (soft glowing dot)
        function Sparkle(x, y, r, color) {
          this.x = x; this.y = y;
          this.r = r;
          this.color = color;
          this.phase = rand(0, 1000);
          this.speed = rand(0.001, 0.004);
        }
        Sparkle.prototype.update = function (dt) {
          this.phase += this.speed * dt;
        };
        Sparkle.prototype.draw = function (ctx) {
          const t = (Math.sin(this.phase) + 1) / 2;
          const alpha = 0.2 + t * 0.65;
          const rad = this.r + t * (this.r * 0.9);
          const g = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, rad);
          g.addColorStop(0, this.color.replace('0.95', alpha.toFixed(2)));
          g.addColorStop(0.4, this.color.replace('0.95', (alpha * 0.45).toFixed(2)));
          g.addColorStop(1, 'rgba(0,0,0,0)');
          ctx.fillStyle = g;
          ctx.beginPath();
          ctx.arc(this.x, this.y, rad, 0, Math.PI * 2);
          ctx.fill();
        };

        // Palette for petals (soft gradient pairs)
        const petalPalette = [
          { start: 'rgba(255,190,210,0.98)', end: 'rgba(255,120,170,0.92)' },
          { start: 'rgba(255,220,170,0.96)', end: 'rgba(255,145,125,0.86)' },
          { start: 'rgba(186,245,220,0.96)', end: 'rgba(120,225,190,0.88)' },
          { start: 'rgba(200,175,255,0.96)', end: 'rgba(160,110,255,0.9)' },
          { start: 'rgba(255,205,235,0.96)', end: 'rgba(255,150,200,0.9)' }
        ];
        const sparkleColors = [
          'rgba(255,210,110,0.95)',
          'rgba(255,143,177,0.95)',
          'rgba(122,231,199,0.95)',
          'rgba(178,130,255,0.95)'
        ];

        // populate
        function init() {
          petals.length = 0;
          sparkles.length = 0;
          for (let i = 0; i < PETAL_COUNT; i++) {
            const size = rand(6, 18);
            petals.push(new Petal(rand(0, window.innerWidth), rand(-300, window.innerHeight), size, petalPalette[randInt(0, petalPalette.length-1)], rand(0,10000)));
          }
          for (let i = 0; i < SPARKLE_COUNT; i++) {
            sparkles.push(new Sparkle(rand(20, window.innerWidth-20), rand(20, window.innerHeight-20), rand(6, 28), sparkleColors[randInt(0, sparkleColors.length-1)]));
          }
        }
        init();
        window.addEventListener('resize', () => {
          setTimeout(() => init(), 120);
        });

        let last = performance.now();
        function loop(now) {
          const dt = Math.min(32, now - last);
          last = now;

          // clear with slight dim to create soft trails
          ctx.globalCompositeOperation = 'source-over';
          ctx.fillStyle = 'rgba(6,4,18,0.12)';
          ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);
          ctx.globalCompositeOperation = 'lighter';

          // draw sparkles
          for (let s of sparkles) {
            s.update(dt);
            s.draw(ctx);
          }

          // update and draw petals
          for (let p of petals) {
            p.update(dt);
            p.draw(ctx);
          }

          requestAnimationFrame(loop);
        }

        requestAnimationFrame(loop);

        // interactive bursts on click/tap: gentle petal burst near pointer
        window.addEventListener('pointerdown', (ev) => {
          const x = ev.clientX;
          const y = ev.clientY;
          // create a few localized petals
          for (let i = 0; i < 6; i++) {
            const size = rand(8, 18);
            const p = new Petal(x + rand(-30,30), y + rand(-10,10), size, petalPalette[randInt(0, petalPalette.length-1)], rand(0,10000));
            p.vx = rand(-1.2, 1.2);
            p.vy = rand(0.6, 1.4);
            petals.push(p);
          }
          // add a small sparkle
          sparkles.push(new Sparkle(x + rand(-20,20), y + rand(-20,20), rand(8,26), sparkleColors[randInt(0, sparkleColors.length-1)]));
          // limit counts
          if (petals.length > 160) petals.splice(0, petals.length - 120);
          if (sparkles.length > 36) sparkles.splice(0, sparkles.length - 28);
        });

        // pause animations when tab not focused
        window.addEventListener('blur', () => {
          // lightweight: stop requesting frames by no-op loop until focus
        });
      })();
    } // end prefersReducedMotion
    // after entrance, give heading a gentle float (so it keeps subtle life)
    window.addEventListener('load', () => {
      const h = document.querySelector('.greetings');
      if (h && !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        setTimeout(() => h.classList.add('float'), 1200);
      }
    });
  </script>
</body>
</html>